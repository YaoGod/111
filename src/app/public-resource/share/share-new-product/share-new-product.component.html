<div class="content-area">
  <div class="content-inner">
  <!--页面标题-->
    <div class="nav-title">
      <a><h4>物品信息</h4></a>
      <div class="b-head-right">
        <div class="content-box" tabindex="0" onclick="history.go(-1);">
          <i class="icon-reload"></i> 返回
        </div>
      </div>
    </div>
    <!--信息内容-->
    <div class="warp">
      <div class="warp-left">
        <div class="warp-fist">
          <img *ngIf="showImg" [src]="showImg | imgsafeurl" >
        </div>
        <ul class="warp-list">
          <li class="dropify-wrapper" *ngFor="let img of shareProduct.imgPathList;let i = index">
            <a class="top-trash" title="删除图片" (click)="delImgPath(i)">x</a>
            <div  class="dropify-message">
              <img [src]="img | imgsafeurl" *ngIf="img">
            </div>
          </li>
          <li  class="dropify-wrapper bpt">
            <div  class="dropify-message"></div>
            <p>上传图片</p>
            <input  class="dropify" type="file"  id="press" #press
                    (change)="prese_upload(press.files)">
          </li>
        </ul>
      </div>
      <div class="warp-right">
        <div  class="form-group">
          <label  class="control-label"><span>物品名称</span>
            <input class="form-control" id="name"
                   name="name" placeholder="" type="text"
                   [(ngModel)]="shareProduct.name"
                   (blur)="verifyEmpty(shareProduct.name,'name')">
          </label>
          <div class="error"></div>
        </div>
        <div  class="form-group">
          <label  class="control-label"><span>单价&nbsp;(元)</span>
            <input class="form-control" id="price"
                   name="price" placeholder="" type="number"
                   [(ngModel)]="shareProduct.unitPrice"
                   (blur)="verifyEmpty(shareProduct.unitPrice,'price')">
          </label>
          <div class="error"></div>
        </div>
        <div  class="form-group">
          <label  class="control-label"><span>数&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;量</span>
            <input class="form-control" id="amount"
                   name="amount" placeholder="" type="number"
                   [(ngModel)]="shareProduct.amount"
                   (blur)="verifyEmpty(shareProduct.amount,'amount')">
          </label>
          <div class="error"></div>
        </div>
        <div  class="modal-right">
          <div  class="form-group">
            <label  class="control-label"><span>开始时间</span>
              <input class="form-control" id="bTime"
                     name="bTime" placeholder="" type="datetime-local"
                     [(ngModel)]="shareProduct.bTime"
                     (blur)="verifyEmpty(shareProduct.bTime,'bTime')">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label">
              <span>结束时间</span>
              <input class="form-control" id="eTime"
                     name="eTime" placeholder="" type="datetime-local"
                     [(ngModel)]="shareProduct.eTime"
                     (blur)="verifyEmpty(shareProduct.eTime,'eTime')">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label" onclick="$('#deptSltWin').show()">
              <span>开放范围</span>
              <textarea class="form-control" rows="4" style="line-height: 20px"
                        id="deptName" name="deptName" readonly
                        [(ngModel)]="shareProduct.targetName">
              </textarea>
            </label>
            <div class="error"></div>
          </div>
          <div class="modal-more" id="deptSltWin" style="display: none">
            <h5>杭州移动各部门</h5>
            <h5>已选：&nbsp;&nbsp;
              <span>{{shareProduct.targetName}}</span></h5>
            <div class="choose-group">
              <label class="cb-blue">
                <input type="checkbox" name="all" id="all" [(ngModel)]="isAllDept" (change)="chooseAll()">
                <span>所有人员</span>
              </label>
            </div>
            <div class="choose-list">
              <div class="choose-group" *ngFor="let dept of deptList;let i=index">
                <label class="cb-blue">
                  <input type="checkbox" [name]="dept.DEPT_ID" [(ngModel)]="dept.choose"
                         [value]="dept.DEPT_ID"
                         (change)="chooseDept()">
                  <span>{{dept.DEPT_NAME}}</span>
                </label>
              </div>
            </div>
            <div  class="modal-more-footer">
              <button  class="btn btn-info" type="submit"
                       onclick="$('#deptSltWin').fadeOut()">确定</button>
            </div>
          </div>
      </div>
    </div>
      <div class="cont">
        <h5><span>详情介绍</span></h5>
        <div class="summary-text">
          <div  class="form-group">
            <label  class="control-label">
              <textarea class="form-control" id="summary" rows="12"
                     name="summary" placeholder=""
                     [(ngModel)]="shareProduct.summary"
                     (blur)="verifyEmpty(shareProduct.summary,'summary')">
              </textarea>
            </label>
            <div class="error"></div>
          </div>
        </div>
      </div>
      <div class="foot-submit">
        <a class="btn btn-info" (click)="submit()">提交</a>
      </div>
    </div>
  </div>
</div>
