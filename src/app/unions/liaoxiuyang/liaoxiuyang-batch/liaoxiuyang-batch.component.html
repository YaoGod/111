<div class="wrap-inner">
<div class="repair-chandlery">
  <ul>
    <li>
      <label>线路编号</label>
      <input name="searchCode" style="width:130px;" type="text" [(ngModel)]="searchInfo.code">
    </li>
    <li>
      <label>线路名称</label>
      <input name="searchName" style="width:130px;" type="text" [(ngModel)]="searchInfo.name">
    </li>
    <li>
      <a href="javascript:;" class="search-btn" (click)="batchSearch(1)"><i class="icon-magnifier"></i> 查 询</a>
    </li>
    <li>
      <a href="javascript:;" class="search-btn" (click)="addNewBatch()"><i class="icon-magnifier-add"></i> 新 增</a>
    </li>
  </ul>
</div>
<table width="100%" style="margin:0 auto;" class="card-info">
  <tr style="height: 40px; background-color: #acd6ff; text-align: center; font-weight: bold; font-size: 14px;color:#333;">
    <th>线路编号</th>
    <th width="20%" style="text-align: left">线路名称</th>
    <th>线路价格</th>
    <th>旅行社</th>
    <th>服务标准</th>
    <th>状态</th>
    <th>备注</th>
    <th>行程安排</th>
    <th width="8%">附件</th>
    <th width="8%">操作</th>
  </tr>
  <tr style="height: 36px; text-align: center" *ngFor="let inner of batches;let i=index">

  </tr>
</table>
<div class="div-none" *ngIf="batches && batches.length === 0">
  <p>暂无信息</p>
</div>
<app-turn-bar
  [pageNo]="pageNo"
  [pageSize]="pageSize"
  [total]="total"
  (turnEvent)="batchSearch($event)">
</app-turn-bar>
</div>


<div class="mask" id="pici">
  <div class="mask-cotainer">
    <div class="mask-head"><i class="icon-film"></i> <p>新增批次</p>
      <button class="close" (click)="addCancel()">×</button>
    </div>
    <form method="post" name="topForm" class="repair-form">
      <div class="form-control form-alone" *ngIf="newBatch.id">
        <span class="form-label">批次编号</span>
        <div class="form-inp">
          <input class="company-ipt company-sel" name="code" type="text"
                 [(ngModel)]="newBatch.code">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">线路名称</span>
        <div class="form-inp">
          <select class="company-ipt company-sel" name="newHandleId" id="newHandleId" [(ngModel)]="newBatch.lineObject"
                  (blur)="verifyEmpty('newHandleId')">
            <option value="">请选择</option>
            <option *ngFor="let line of lines" [value]="line.id">{{line.name}}</option>
          </select>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">出行时间</span>
        <div class="form-inp">
          <input class="company-ipt company-sel" name="goTime" type="datetime-local"
                 [(ngModel)]="newBatch.goTime">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">开放范围</span>
        <div class="form-inp">
          <label>
            <input  name="deptId" type="radio"
                   [(ngModel)]="newBatch.deptId" value="owner">私有
          </label>
          <label>
            <input  name="deptId" type="radio"
                   [(ngModel)]="newBatch.deptId" value="public">公开
          </label>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">成团人数下限</span>
        <div class="form-inp">
          <input class="company-ipt company-sel" name="minNum" type="number"
                 [(ngModel)]="newBatch.minNum">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">预报名开始时间</span>
        <div class="form-inp">
          <input class="company-ipt company-sel" name="beginTime" type="datetime-local"
                 [(ngModel)]="newBatch.beginTime">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">预报名截至时间</span>
        <div class="form-inp">
          <input class="company-ipt company-sel" name="goTime" type="datetime-local"
                 [(ngModel)]="newBatch.goTime">
          <span class="errorMessage"></span>
        </div>
      </div>
    </form>
    <div class="mask-footer">
      <button type="submit" class="btn-mask btn-info" (click)="submit()">提 交</button>
      <button type="button" class="btn-mask btn-danger" (click)="addCancel()">取 消</button>
    </div>
  </div>
</div>
