<div class="content-area">
  <div class="content-inner">
    <!--页面标题-->
    <div class="nav-title">
      <a><h4>权限管理</h4></a>
    </div>
    <!--搜索栏-->
    <div class="search-bar">
      <ul>
        <li><label>模块名称</label>
          <input type="text" name="searchUserId" [(ngModel)]="search.cataName">
        </li>
        <li>
          <a (click)="getAbilityList(1);"><i class="icon-magnifier"></i>&nbsp;查询</a>
        </li>
        <li>
          <a (click)="newUser();"><i class="icon-plus"></i>&nbsp;新增</a>
        </li>
      </ul>
    </div>
    <div id="AbilityChart" class="chart-inner"></div>
    <!--表头-->
    <div class="table-head" style="margin-top: 10px; min-height: 400px;">
      <table border="0" cellspacing="0" cellpadding="0" class="list-box">
        <tr class="row list-title" style="height:45px;">
          <th width="10%" class="text-left">模块ID</th>
          <th width="25%" class="text-left">模块名称</th>
          <th width="10%">模块图标</th>
          <th width="20%" class="text-left">模块地址</th>
          <th width="10%" class="text-left">Father ID</th>
          <th width="15%" class="text-left">创建/修改时间</th>
          <th style="min-width: 200px">操作</th>
        </tr>
        <tr class="row" *ngFor="let ability of abilities;let i = index">
          <td class="text-left">
            {{ability.id}}
          </td>
          <td class="text-left">
            {{ability.cataName}}
          </td>
          <td>
            <i [ngClass]="ability.icon"></i>
          </td>
          <td class="text-left">
            {{ability.cataUrl}}
          </td>
          <td class="text-left">
            {{ability.fatherId}}
          </td>
          <td class="text-left">
            {{ability.createTime?ability.createTime:'' | date:'yyyy/MM/dd HH:mm:ss'}}
          </td>
          <td class="box-option">
            <a (click)="edit(ability)">
              <i class="icon-pencil"></i>编辑
            </a>
            <a (click)="delete(ability.id)">
              <i class="icon-trash"></i>&nbsp;删除
            </a>
          </td>
        </tr>
      </table>
      <div class="div-none" *ngIf="abilities.length === 0">
        <p>暂无信息</p>
      </div>
    </div>
    <!--翻页-->
    <app-turn-bar
      [pageNo] = "pageNo"
      [pageSize] = "pageSize"
      [total] = "total"
      (turnEvent) = "getAbilityList($event)">
    </app-turn-bar>

  </div>
</div>


<div class="mask" style="display: none;" id="newUser">
  <div  class="modal-content" style="width: 400px;margin-left: -200px">
    <div  class="modal-header">
      <h4 class="modal-title"><i class="icon-home"></i>目录权限{{winTitle}}</h4>
      <button class="modal-close" type="button" (click)="closeNewUser()">×</button>
    </div>
    <form  class="form-building form-material ng-untouched ng-pristine ng-valid" novalidate="">
      <div  class="modal-body clearfix">
        <div class="modal-right">
          <div  class="form-group">
            <label  class="control-label"><span>模块ID</span>
              <input type="number" class="form-control" id="id" name="id"
                     [(ngModel)]="copyAbility.id" (blur)="verifyEmpty(copyAbility.id,'id')">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label"><span>模块名称</span>
              <input type="text" class="form-control" id="cataName" name="cataName"
                     [(ngModel)]="copyAbility.cataName" (blur)="verifyEmpty(copyAbility.cataName,'cataName')">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label"><span>模块图标</span>
              <input type="text" class="form-control" id="icon" name="icon"
                        [(ngModel)]="copyAbility.icon">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label"><span>模块地址</span>
              <input type="text" class="form-control" id="cataUrl" name="cataUrl"
                     [(ngModel)]="copyAbility.cataUrl">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label"><span>Father ID</span>
              <input type="number" class="form-control" id="fatherId" name="fatherId"
                     [(ngModel)]="copyAbility.fatherId" >
            </label>
            <div class="error"></div>
          </div>
        </div>
      </div>
    </form>
    <div  class="modal-footer">
      <button  class="btn btn-info" type="submit"
               (click)="submit()">确  定</button>
    </div>
  </div>
</div>
