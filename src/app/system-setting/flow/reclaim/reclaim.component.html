<div class="content-area">
  <div class="content-inner">
    <!--搜索栏-->
    <div class="search-bar">
      <ul class="clearfix">
        <li><label>HRMIS</label>
          <input type="text" name="searchUserId" [(ngModel)]="searchPerson.userid">
        </li>
        <li><label>员工姓名</label>
          <input type="text" name="searchUserId" [(ngModel)]="searchPerson.username">
        </li>
        <li><label>员工部门</label>
          <select name="searchDeptId" [(ngModel)]="searchPerson.deptId" style="width: 168px;">
            <option value="">全部</option>
            <option *ngFor="let dept of deptList" [value]="dept.DEPT_ID">{{dept.DEPT_NAME}}</option>
          </select>
        </li>
        <li style="float:right">
          <a (click)="getUserList(1);"><i class="icon-magnifier"></i>&nbsp;查询</a>
        </li>

        <li style="float:right">
          <a (click)="cancelAllAuthorization();"><i class="icon-magnifier"></i>&nbsp;批量回收</a>
        </li>
      </ul>
    </div>
    <!--表头-->
    <div class="table-head" style="margin-top: 10px">
      <table border="0" cellspacing="0" cellpadding="0" class="list-box">
        <tr class="row list-title" style="height:45px;">
          <th width="8%">
            <input type="checkbox" name="all" [(ngModel)]="all" (change)="checkedAll()">
          </th>
          <th width="20%" class="text-left">员工编号</th>
          <th width="20%" class="text-left">员工姓名</th>
          <th width="20%" class="text-left">员工部门</th>
          <th width="20%" class="text-left">操作</th>
        </tr>
      </table>
    </div>
    <!--表格内容-->
    <div class="table-content" style="min-height: 360px">
      <table border="0" cellspacing="0" cellpadding="0" class="list-box">
        <tr class="row" *ngFor="let flow of flowList;let i = index">
          <td width="5%">
            <input type="checkbox" name="orderCheck" [value]="flow.userid" (change)="checkIsAll()">
          </td>
          <td width="12%" class="text-left"><a [routerLink]="['../detail/'+flow.userid]" href="javascript:;">
            {{flow.userid}}</a>
          </td>
          <td width="12%" class="text-left">
            {{flow.username}}
          </td>
          <td width="12%" class="text-left">
            {{flow.deptId}}
          </td>
          <td width="12%" class="handle text-left"><!--class="icon-pencil"-->
            <i  style="margin-right: 10px;" title="群组回收" (click)="myGroup(flow.userid)">群组回收</i>
            <i  title="清空群组" (click)="onekeyCancelAuthorization(flow.userid)">清空群组</i><!--class="icon-close"-->
          </td>
        </tr>
      </table>
      <div class="div-none" *ngIf="flowList.length === 0">
        <p>暂无信息</p>
      </div>
    </div>
    <!--翻页-->
    <app-turn-bar
      [pageNo]="pageNo"
      [pageSize]="pageSize"
      [total]="total"
      [length]="length"
      (turnEvent)="getUserList($event)">
    </app-turn-bar>

    <div class="mask1">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title"><i class="icon-home"></i>&nbsp;我的群组管理</h4>
          <button class="modal-close" type="button" (click)="closeNewUser()">×</button>
        </div>
        <div class="modal-body clearfix">
          <div class="modal-inner clearfix">
            <div class="modal-left">
              <!--表头-->
              <div class="table-head" style="margin-top: 10px">
                <table border="0" cellspacing="0" cellpadding="0" class="list-box">
                  <tr class="row list-title" style="height:45px;">
                    <th width="20%" class="text-left">群组名称</th>
                    <th width="20%" class="text-left">关联部门</th>
                    <th width="20%" class="text-left">群组状态</th>
                    <th width="20%" class="text-left">操作</th>
                  </tr>
                </table>
              </div>
              <div class="table-content" style="min-height: 360px">
                <table border="0" cellspacing="0" cellpadding="0" class="list-box">
                  <tr class="row" *ngFor="let group of groupList;let i = index">
                    <td width="12%" class="text-left">
                      {{group.name}}
                    </td>
                    <td *ngIf="group.isdept==='0'" width="12%" class="text-left">
                      否
                    </td>
                    <td *ngIf="group.isdept==='1'" width="12%" class="text-left">
                      是
                    </td>
                    <td *ngIf="group.status==='1'" width="12%" class="text-left" style="color:#00a379;">
                      可用
                    </td>
                    <td *ngIf="group.status==='0'" width="12%" class="text-left" style="color: #ff0000;">
                      不可用
                    </td>
                    <td width="12%" class="text-left">
                      <i class="icon-close" title="退出群组" (click)="cancelAuthorization(group.id)"></i>
                    </td>
                  </tr>
                </table>
                <div class="div-none" *ngIf="groupList.length === 0">
                  <p>暂无信息</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-info" type="submit"
                  (click)="closeNewUser()">确 定
          </button>
        </div>
      </div>
    </div>

  </div>
</div>
