
<div class="right">
  <div class="wrap-content">
    <div class="wrap-space">
      <div class="wrap-b">
        <div class="b-head">
          <span>洗衣服务订单报表</span>
          <div class="b-head-right">
            <div class="content-box" onclick="history.go(-1)"><i class="icon-reload"></i>返回</div>
          </div>
        </div>
        <div class="b-con tuanmenu">
          <div class="chandlery clearfix">
            <ul class="search clearfix">
              <li>
                <label>订 单 号</label>
                <input type="text" name="searchorderNum" class="search-ipt" [(ngModel)]="search.orderNo">
              </li>
              <li>
                <label>服务中心</label>
                <select name="serverCenter_add" class="search-sel" [(ngModel)]="search.serviceCenter">
                  <option value="">-全部-</option>
                  <option *ngFor="let center of serverCenters; let idx=index" value="{{center.name}}">{{center.name}}</option>
                </select>
              </li>

              <li>
                <label>订单状态</label>
                <select name="searchorderState" class="search-sel" [(ngModel)]="search.status">
                  <option value="">-全部-</option>
                  <option value="0">订购中</option>
                  <option value="4">已收货</option>
                  <option value="1">已完成</option>
                  <option value="2">退单</option>
                </select>
              </li>
              <li>
                <label>开始时间</label>
                <input type="date" name="searchbTime" class="search-ipt" [(ngModel)]="search.startTime">
              </li>
              <li>
                <label>结束时间</label>
                <input type="date" name="searcheTime" class="search-ipt" [(ngModel)]="search.finshTime">
              </li>
              <li>
                <label>订 单 人</label>
                <input type="text" name="searchorderPerson" class="search-ipt" [(ngModel)]="search.userId">
              </li>
              <li>
                <label>订单部门</label>
                <select class="search-ipt search-sel" name="searchorderDepart" [(ngModel)]="search.deptName">
                  <option value="">-请选择-</option>
                  <option *ngFor="let dept of repairDept" [value]="dept.DEPT_NAME">{{dept.DEPT_NAME}}</option>
                </select>
              </li>
              <li>
                <label>服务商</label>
                <select class="search-ipt search-sel" name="searchorderDepart" [(ngModel)]="search.facilitator">
                  <option value="">-请选择-</option>
                  <option *ngFor="let dept of applierList" [value]="dept.applyName">{{dept.applyName}}</option>
                </select>
              </li>
            </ul>
            <div class="search-right">
              <a href="javascript:;" class="search-btn" (click)="getOrderAllList(1)"><i class="icon-magnifier"></i> 查 询</a>
              <a href="javascript:;" class="search-btn" style="background-color: #fb9678; margin-top:5px;" (click)="export()"><i class="icon-docs"></i> 导 出</a>
            </div>
          </div>
          <div class="list-table">
            <table class="table-head">
              <thead>
              <tr>
                <th class="zero">
                  <input type="checkbox" name="all" [(ngModel)]="all" (change)="checkedAll()">
                </th>
                <th class="fir">订单编号</th>
                <th class="fir">服务商</th>
                <th class="fir">服务中心</th>
                <th class="sec">订单人</th>
                <th class="fir">订单人部门</th>
                <th class="sec">服务内容</th>
                <th class="three">单价(元)</th>
                <th class="three">数量</th>
                <th class="three">合计(元)</th>
              </tr>
              </thead>
              <tr *ngFor="let order of orders;let idx=index" class="line-row">
                <td class="zero">
                  <input type="checkbox" name="orderCheck" [value]="order.id" (change)="checkIsAll()">
                </td>
                <td class="fir">{{order.orderNo}}</td>
                <td class="fir">{{order.facilitator}}</td>
                <td class="fir">{{order.serviceCenter}}</td>
                <td class="sec">{{order.username}}</td>
                <td class="sec">{{order.deptName}}</td>
                <td class="sec">
                  <p *ngFor="let item of order.orderItems;let j=index">{{item.appcontent}}</p>
                </td>
                <td class="three">
                  <p *ngFor="let item of order.orderItems;let j=index">{{item.unitPrice}}</p>
                </td>
                <td class="three">
                  <p *ngFor="let item of order.orderItems;let j=index">{{item.quantity}}</p>
                </td>
                <td class="three">{{order.payment}}
                </td>
              </tr>
            </table>
          </div>
          <app-turn-bar
            [pageNo]="pageNo"
            [pageSize]="pageSize"
            [total]="total"
            [length] = 5
            (turnEvent)="goPage($event)">
          </app-turn-bar>
        </div>
      </div>
    </div>
  </div>
</div>

