<!--搜索栏-->
<div class="search-bar">
  <ul>
    <li><label>模块类型</label>
      <select name="module" [(ngModel)]="typeTemplate" (change)="changeAttr()">
        <option *ngFor="let inner of abc;let i=index;" [value]="i+1">{{inner}}</option>
      </select>
    </li>
    <!--<li>
      <label>统计类型</label>
      <select
        name="floorUse" (change)="changeDate()" [(ngModel)]="countType">
        <option value="1">按月份</option>
        <option value="2">按季度</option>
        <option value="3">按年份</option>
      </select>
    </li>
    <li>
      <label>时间</label>
      <input type="month" style="display: none;"  id="date1"  [(ngModel)]="countValue">

      <select style="display: none;"
              id="date2" [(ngModel)]="countValue1">
        <option value="1">一季度</option>
        <option value="2">二季度</option>
        <option value="3">三季度</option>
        <option value="4">四季度</option>
      </select>
      <select id="date3" [(ngModel)]="countValue2">
        <option value="2017">2017年</option>
        <option value="2018">2018年</option>
      </select>
    </li>-->
    <li><label>党(总)支部名称</label>
      <select name="branchName" [(ngModel)]="search.branchName">
        <option value="">全部</option>
        <option *ngFor="let abc of repairDept" [value]="abc">{{abc}}</option>
      </select>
    </li>
    <li *ngIf="typeTemplate==='1'"><label>会议类型</label>
      <select class="search-ipt search-sel"  style="width:130px;" name="searchtype" [(ngModel)]="search.subType">
        <option value="">全部</option>
        <option value="党员大会">党员大会</option>
        <option value="支委会">支委会</option>
        <option value="党小组会">党小组会</option>
        <option value="党课">党课</option>
        <option value="组织生活会">组织生活会</option>
      </select>
    </li>
    <li *ngIf="typeTemplate==='6'">
      <label>文件类型</label>
      <select class="search-ipt search-sel"  style="width:130px;" type="text" name="searchFileName" [(ngModel)]="search.subType">
        <option value="">-全部-</option>
        <option>党支部工作计划</option>
        <option>党支部半年度总结</option>
        <option>党支部年度总结</option>
      </select>
    </li>
    <li *ngIf="typeTemplate !=='9'"><label>月份</label>
      <input name="Bmonth" style="width:130px;" type="month" [(ngModel)]="search.BTime" [value]="search.BTime"> 至
      <input name="Emonth" style="width:130px;" type="month" [(ngModel)]="search.ETime" [value]="search.ETime">
    </li>
  </ul>
  <div class="search-right">
    <a (click)="getDataList(1);"><i class="icon-magnifier"></i>&nbsp;查询</a>
    <a (click)="downDeriving();"><i class="icon-docs"></i>&nbsp;导出</a>
  </div>
</div>
<!--表头-->
<div class="table-head" style="margin-top: 10px; min-height: 400px;">
  <table border="0" cellspacing="0" cellpadding="0" class="list-box">
    <thead>
    <tr class="row list-title" style="height:45px;">
      <!--<th width="10%">模块类型</th>-->
      <th width="10%" >党(总)支部名称</th>
      <th width="10%" *ngIf="search.type==='2'||search.type==='3'||search.type==='4'||search.type==='5'||search.type==='6'||
      search.type==='7'">月份</th>
      <th width="10%" *ngIf="search.type==='1'">会议类型</th>
      <th width="10%" *ngIf="search.type==='3'">活动类型</th>
      <th width="20%" *ngIf="search.type==='4'">案例类型</th>
      <th width="20%" *ngIf="search.type==='6'">文件类型</th>
      <th width="20%" *ngIf="search.type==='1'">会议时间</th>
      <th width="20%" *ngIf="search.type==='1'">会议主题</th>
      <th width="10%" *ngIf="search.type==='2'">典型做法篇数</th>
      <th width="10%" *ngIf="search.type==='2'">动态情况简讯篇数</th>
      <th width="10%" *ngIf="search.type==='3'">支部党员人数</th>
      <th width="10%" *ngIf="search.type==='3'">参与人数</th>
      <th width="15%" *ngIf="search.type==='4'">案例名称</th>
      <th width="15%" *ngIf="search.type==='5'">党委委员</th>
      <th width="15%" *ngIf="search.type==='5'">调研主题</th>
      <th width="10%" *ngIf="search.type==='7'">先锋岗数量</th>
      <th width="10%" *ngIf="search.type==='7'">责任区数量</th>
      <th width="10%" *ngIf="search.type==='7'">突击队数量</th>
      <th width="10%" *ngIf="search.type==='7'">活动开展频次</th>
      <th width="10%" *ngIf="search.type==='8'">活动照片名称1</th>
      <th width="10%" *ngIf="search.type==='8'">活动照片名称2</th>
      <th width="10%" *ngIf="search.type==='8'">活动照片名称3</th>
      <th width="10%" *ngIf="search.type==='9'">主题</th>
      <!--<th width="10%" class="text-left">文件名称</th>-->
      <th width="8%">创建人</th>
      <th width="12%">创建时间</th>
      <th width="10%">操作</th>
    </tr>
    </thead>
    <tbody>
    <tr class="row" *ngFor="let report of record;let i = index">
      <!--<td class="text-left">{{report.branchName}}</td>-->
      <td>{{report.branchName}}</td>
      <td *ngIf="search.type==='2'||search.type==='3'||search.type==='4'||search.type==='5'||search.type==='6'||
      search.type==='7'">{{report.month}}</td>
      <td *ngIf="search.type!=='2' && search.type!=='7'&& search.type!=='5'&& search.type!=='9'">{{report.subType}}</td>
      <td *ngIf="search.type==='1'">{{report.beginTime | date:'yyyy/MM/dd HH:mm'}}至{{report.endTime | date:'HH:mm'}}</td>
      <td *ngIf="search.type==='1'">{{report.theme}}</td>
      <td *ngIf="search.type==='2'">{{report.typicalMethod}}</td>
      <td *ngIf="search.type==='2'">{{report.dynamicMessage}}</td>
      <td *ngIf="search.type==='3'">{{report.shouldNum}}</td>
      <td *ngIf="search.type==='3'">{{report.factNum}}</td>
      <td *ngIf="search.type==='4'">{{report.theme}}</td>
      <td *ngIf="search.type==='5'">{{report.host}}</td>
      <td *ngIf="search.type==='5'">{{report.theme}}</td>
      <td *ngIf="search.type==='7'">{{report.pioneerNum}}</td>
      <td *ngIf="search.type==='7'">{{report.dutyNum}}</td>
      <td *ngIf="search.type==='7'">{{report.commandoNum}}</td>
      <td *ngIf="search.type==='7'">{{report.frequency}}</td>
      <td *ngIf="search.type==='8'">{{activity1}}</td>
      <td *ngIf="search.type==='8'">{{activity2}}</td>
      <td *ngIf="search.type==='8'">{{activity3}}</td>
      <td *ngIf="search.type==='9'">{{report.theme}}</td>
      <td>{{report.createUserName}}</td>
      <td><p>{{report.createTime| date:'yyyy/MM/dd HH:mm'}}</p></td>
      <td *ngIf="search.type==='1'" class="box-option">
        <a [routerLink]="['../../sanhui/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='2'" class="box-option">
        <a [routerLink]="['../../liuhao/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='3'" class="box-option">
        <a [routerLink]="['../../bulletin/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='4'" class="box-option">
        <a [routerLink]="['../../practice/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='5'" class="box-option">
        <a [routerLink]="['../../dangwei/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='6'" class="box-option">
        <a [routerLink]="['../../jihua/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='7'" class="box-option">
        <a [routerLink]="['../../subunit/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
      <td *ngIf="search.type==='9'" class="box-option">
        <a [routerLink]="['../../study/detail',report.id]">
          <i class="icon-eye"></i>&nbsp;详情
        </a>
      </td>
    </tr>
    </tbody>

  </table>
  <div class="div-none" *ngIf="record && record.length === 0">
    <p>暂无信息</p>
  </div>
</div>
<!--翻页-->
<app-turn-bar
  [pageNo] = "pageNo"
  [pageSize] = "pageSize"
  [total] = "total"
  (turnEvent) = "getDataList($event)">
</app-turn-bar>
