<div class="wrap">
  <div class="cont">
    <div class="row">
      <div class="row-title">车辆信息</div>
    </div>
    <div class="cont-inner">
      <!--<table width="100%">
        <tr style="height: 40px; background-color: #00bce1;">
          <th>员工姓名</th>
          <th>员工编号</th>
          <th>员工部门</th>
          <th>驾驶员姓名</th>
          <th>驾驶证号</th>
          <th>驾驶证档案编号</th>
          <th>车辆所有人姓名</th>
          <th>车牌号码</th>
          <th>车辆识别代号</th>
          <th>发动机号码</th>
          <th>车辆品牌型号</th>
          <th>驾驶证照片</th>
          <th>行驶证照片</th>
          <th>是否停车摇号</th>
          <th>交通费额度（元/月）</th>
        </tr>
      </table>-->
      <div class="repair-chandlery clearfix" *ngIf="rule&&rule.isSelect">
        <ul class="record-search clearfix">
          <li>
            <label>员工部门</label>
            <select name="buildingName" class="search-ipt search-sel" [(ngModel)]="searchInfo.userDept">
              <option value="">-全部-</option>
              <option *ngFor="let num of deptList"
                      [value]="num.DEPT_NAME">
                {{num.DEPT_NAME}}</option>
            </select>
          </li>
          <li>
            <label>员工编号</label>
            <input type="text" name="searchuserId" class="search-ipt" [(ngModel)]="searchInfo.userId">
          </li>
        </ul>
        <div class="search-right">
          <a href="javascript:;" class="search-btn" (click)="repairSearch(1)"><i class="icon-magnifier"></i> 查 询</a>
        </div>
      </div>
      <div class="row-no">
        <a href="javascript:;" class="btn search-btn" (click)="addVehicle()" *ngIf="rule&&rule.isInstall"><i class="icon-plus"></i>&nbsp;&nbsp;新 增</a>
      </div>
      <ul class="card-list clearfix">
        <!--<li  class="room-card">
          <div class="room-title clearfix">
            <h5>员工姓名 :XXX</h5><h5>员工编号 :XXX</h5><h5>员工部门 :XXX</h5>
          </div>
          <div class="card-border">
            <h6> <i class="icon-pencil"></i> <i class="icon-trash"> </i> </h6>
            <div class="card-left">
              <div>
                <span class="form-title">驾驶员姓名<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">驾驶证号<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">驾驶证档案编号<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">车辆所有人姓名<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">车牌号码<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">车辆识别代号<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">发动机号码<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">车辆品牌型号<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">是否停车摇号<i></i></span>
                <p>XXX</p>
              </div>
              <div>
                <span class="form-title">交通费额度(元/月)<i></i></span>
                <p>XXX</p>
              </div>

            </div>
            <div class="card-right">
              <div class="card-info">
                <span class="form-title" style="height: 20px;line-height: 20px;">驾驶证照片<i></i></span>

                <div class="driving-license">
                  <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1522061745908&di=661eef0613ed0bd3bc022f6e99b4423f&imgtype=0&src=http%3A%2F%2Fs3.sinaimg.cn%2Fmw690%2F002ybqQqgy6Loq1Idz4a2%26690" alt="驾驶证照片">
                </div>
              </div>
              <div class="card-info">
                <span class="form-title" style="height: 20px;line-height: 20px;">行驶证照片<i></i></span>
                <div class="driving-license">
                  <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1522061862735&di=c35d4a8c070ca76e2e98b6cd704546df&imgtype=0&src=http%3A%2F%2Fclub2.autoimg.cn%2Falbum%2Fg15%2FM13%2FEE%2FC8%2Fuserphotos%2F2015%2F11%2F23%2F14%2FwKgH1lZSs8eALLkHABZL3uRxsTY522.jpg" alt="行驶证照片">
                </div>
              </div>
            </div>
          </div>
        </li>-->
        <li *ngFor="let inner of record;let i=index" class="room-card">
          <div class="room-title clearfix">
            <h5>员工姓名 :{{inner.userName}}</h5><h5>员工编号 :{{inner.userId}}</h5><h5>员工部门 :{{inner.userDept}}</h5>
          </div>
          <div class="card-border">
            <h6>
              <i class="icon-pencil" (click)="editCardInfo(inner.id)" *ngIf="rule&&rule.isUpdate"></i>
              <i (click)="delCardInfo(inner.id)" class="icon-trash" *ngIf="rule&&rule.isDelete"></i>
            </h6>
            <div class="card-left">
              <div>
                <span class="form-title">驾驶员姓名<i></i></span>
                <p>{{inner.driverName}}</p>
              </div>
              <div>
                <span class="form-title">驾驶证号<i></i></span>
                <p>{{inner.driverNum}}</p>
              </div>
              <div>
                <span class="form-title">驾驶证档案编号<i></i></span>
                <p>{{inner.driverCode}}</p>
              </div>
              <div>
                <span class="form-title">车辆所有人姓名<i></i></span>
                <p>{{inner.carOwner}}</p>
              </div>
              <div>
                <span class="form-title">车牌号码<i></i></span>
                <p>{{inner.carNumber}}</p>
              </div>
              <div>
                <span class="form-title">车辆识别代号<i></i></span>
                <p>{{inner.carCode}}</p>
              </div>
              <div>
                <span class="form-title">发动机号码<i></i></span>
                <p>{{inner.motorNum}}</p>
              </div>
              <div>
                <span class="form-title">车辆品牌型号<i></i></span>
                <p>{{inner.carBrand}}</p>
              </div>
              <div>
                <span class="form-title">是否停车摇号<i></i></span>
                <p>{{inner.isPark}}</p>
              </div>
              <div>
                <span class="form-title">交通费额度(元/月)<i></i></span>
                <p>{{inner.carFare}}</p>
              </div>

            </div>
            <div class="card-right">
              <div class="card-info">
                <span class="form-title" style="height: 20px;line-height: 20px;">驾驶证照片<i></i></span>

                <div class="driving-license">
                  <img *ngIf="inner.imgContentList.driverA[0]" [src]="inner.imgContentList.driverA[0] | imgsafeurl" alt="驾驶证照片"/>
                </div>
              </div>
              <div class="card-info">
                <span class="form-title" style="height: 20px;line-height: 20px;">行驶证照片<i></i></span>
                <div class="driving-license">
                  <img *ngIf="inner.imgContentList.driverB[0]" [src]="inner.imgContentList.driverB[0] | imgsafeurl" alt="行驶证照片"/>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
      <app-turn-bar
        [pageNo]="pageNo"
        [pageSize]="pageSize"
        [total]="total"
        [length] = 'length'
        (turnEvent)="repairSearch($event)">
      </app-turn-bar>
    </div>
  </div>
</div>
<div class="mask">
  <div class="mask-cotainer">
    <div class="mask-head"><i class="icon-film"></i> <p>新增车辆信息</p>
      <button class="close" (click)="addCancel()">×</button>
    </div>
    <form method="post" name="topForm" class="repair-form">
      <div class="form-control">
        <span class="form-label">员工编号</span>
        <div class="form-inp">
          <input type="text" class="company-ipt" id="userId" name="userId" [(ngModel)]="newCard.userId"
                 (keyup)="getUserName(newCard.userId)" (blur)="verifyId()" maxlength="8"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">员工姓名</span>
        <div class="form-inp">
          <input type="text" class="company-ipt" id="userName" name="userName" [(ngModel)]="newCard.userName" disabled="disabled"/>
          <span class="errorMessage"></span>
        </div>
      </div>

      <div class="form-control">
        <span class="form-label">员工部门</span>
        <div class="form-inp">
          <input type="text" class="company-ipt" name="userDept" id="userDept" [(ngModel)]="newCard.userDept" disabled="disabled"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">驾驶员姓名</span>
        <div class="form-inp">
          <input type="text" class="company-ipt" id="driverName" name="driverName" [(ngModel)]="newCard.driverName"
                 (blur)="verifydriverName()" maxlength="25"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">驾驶证号</span>
        <div class="form-inp">
          <input type="text" id="driverNum" class="company-ipt" name="driverNum" [(ngModel)]="newCard.driverNum"
                 (blur)="verifydriverNum()" maxlength="25"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">驾驶证档案编号</span>
        <div class="form-inp">
          <input class="company-ipt" name="driverCode" id="driverCode" type="number" [(ngModel)]="newCard.driverCode"
                 (blur)="verifydriverCode()" maxlength="25"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">车辆所有人姓名</span>
        <div class="form-inp">
          <input id="carOwner" class="company-ipt" name="carOwner" type="text" [(ngModel)]="newCard.carOwner"
                 (blur)="verifycarOwner()" maxlength="25"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">车牌号码</span>
        <div class="form-inp">
          <input id="carNumber" class="company-ipt" name="carNumber" type="text" [(ngModel)]="newCard.carNumber"
                 (blur)="verifycarNumber()" maxlength="25"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">车辆识别代号</span>
        <div class="form-inp">
          <input id="carCode" class="company-ipt" name="carCode" type="text" [(ngModel)]="newCard.carCode"
                 (blur)="verifycarCode()" maxlength="25">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">发动机号码</span>
        <div class="form-inp">
          <input id="motorNum" class="company-ipt" name="motorNum" type="text" [(ngModel)]="newCard.motorNum"
                 (blur)="verifymotorNum()" maxlength="25">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">车辆品牌型号</span>
        <div class="form-inp">
          <input id="carBrand" class="company-ipt" name="carBrand" type="text" [(ngModel)]="newCard.carBrand"
                 (blur)="verifycarBrand()"  maxlength="25">
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">是否停车摇号</span>
        <div class="form-inp">
          <select class="company-ipt company-sel" name="isPark" id="isPark" [(ngModel)]="newCard.isPark"
                  (blur)="verifyisPark()" >
            <option value="">请选择</option>
            <option value="是">是</option>
            <option value="否">否</option>
          </select>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">
        <span class="form-label">交通费额度(元/月)</span>
        <div class="form-inp">
          <input class="company-ipt" name="carFare" type="number" id="carFare" [(ngModel)]="newCard.carFare"
                 (blur)="verifycarFare()" maxlength="8"/>
          <span class="errorMessage"></span>
        </div>
      </div>
      <div class="form-control">

      </div>
      <div class="form-control">
        <div  class="dropify-wrapper" id = "newImgPath">
          <div  class="dropify-message">
            <img style="width:100%" *ngIf="newCard.imgPathList.driverA[0]"
                 [src]="newCard.imgContentList.driverA[0] | imgsafeurl:prese1.files">
          </div>
          <p>点击上传驾驶证照片</p>
          <input  class="dropify" type="file" #prese1  id="prese1"
                  (change)="prese_upload1(prese1.files)">
        </div>
      </div>
      <div class="form-control">
        <div  class="dropify-wrapper">
          <div  class="dropify-message">
            <img style="width:100%" *ngIf="newCard.imgPathList.driverB[0]"
                 [src]="newCard.imgContentList.driverB[0] | imgsafeurl:prese2.files">
          </div>
          <p>点击上传行驶证照片</p>
          <input  class="dropify" type="file" #prese2  id="prese2"
                  (change)="prese_upload2(prese2.files)">
        </div>
      </div>
    </form>
    <div class="mask-footer">
      <button type="submit" class="btn-mask btn-info" (click)="submit()">保 存</button>
      <button type="button" class="btn-mask btn-danger" (click)="addCancel()">取 消</button>
    </div>
  </div>
</div>
