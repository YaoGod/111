<div class="repair">
  <div class="repair-header clearfix">
    <a href="javascript:;" class="active" (click)="recordFade($event)">大楼维修记录</a>
    <a href="javascript:;" (click)="contractFade($event)">大楼维修合同</a>
  </div>
  <!--<div>
    <i class="icon-action-redo"></i><i class="icon-action-undo"></i><i class="icon-anchor"></i><i class="icon-arrow-down-circle"></i><i class="icon-arrow-left-circle"></i><i class="icon-arrow-right-circle"></i><i class="icon-arrow-up-circle"></i><i class="icon-badge"></i><i class="icon-bag"></i><i class="icon-ban"></i><i class="icon-basket"></i><i class="icon-basket-loaded"></i><i class="icon-bell"></i><i class="icon-book-open"></i><i class="icon-briefcase"></i><i class="icon-bubble"></i><i class="icon-bubbles"></i><i class="icon-calculator"></i><i class="icon-bulb"></i><i class="icon-calender"></i><i class="icon-call-end"></i><i class="icon-chart"></i><i class="icon-check"></i><i class="icon-chemistry"></i>
    <i class="icon-clock"></i><i class="icon-close"></i><i class="icon-cloud-download"></i><i class="icon-cloud-upload"></i><i class="icon-compass"></i><i class="icon-control-end"></i><i class="icon-control-forward"></i><i class="icon-control-pause"></i><i class="icon-control-play"></i><i class="icon-control-rewind"></i><i class="icon-control-start"></i><i class="icon-credit-card"></i><i class="icon-crop"></i><i class="icon-cup"></i><i class="icon-cursor"></i><i class="icon-cursor-move"></i><i class="icon-diamond"></i>
    <i class="icon-direction"></i><i class="icon-directions"></i><i class="icon-disc"></i><i class="icon-dislike"></i><i class="icon-doc"></i><i class="icon-docs"></i><i class="icon-drawar"></i><i class="icon-drop"></i><i class="icon-earphones"></i><i class="icon-earphones-alt"></i><i class="icon-emotsmile"></i><i class="icon-energy"></i><i class="icon-envelope"></i>
    <i class="icon-envelope-letter"></i><i class="icon-envelope-open"></i><i class="icon-equalizer"></i><i class="icon-eye"></i><i class="icon-game-controller"></i><i class="icon-frame"></i><i class="icon-folder-alt"></i><i class="icon-folder"></i><i class="icon-flag"></i><i class="icon-fire"></i><i class="icon-film"></i><i class="icon-feed"></i><i class="icon-eyeglass"></i><i class="icon-ghost"></i><i class="icon-globe"></i><i class="icon-globe-alt"></i><i class="icon-graduation"></i>
    <i class="icon-graph"></i><i class="icon-grid"></i><i class="icon-handbag"></i><i class="icon-heart"></i><i class="icon-home"></i><i class="icon-hourglass"></i><i class="icon-info"></i><i class="icon-key"></i><i class="icon-layers"></i><i class="icon-like"></i><i class="icon-link"></i><i class="icon-list"></i><i class="icon-location-pin"></i>
    <i class="icon-lock"></i><i class="icon-lock-open"></i><i class="icon-login"></i><i class="icon-logout"></i><i class="icon-loop"></i><i class="icon-magic-wand"></i><i class="icon-magnet"></i><i class="icon-magnifier"></i>
    <i class="icon-magnifier-add"></i><i class="icon-magnifier-remove"></i><i class="icon-microphone"></i><i class="icon-mouse"></i><i class="icon-music-tone"></i><i class="icon-music-tone-alt"></i><i class="icon-mustache"></i><i class="icon-note"></i><i class="icon-notebook"></i><i class="icon-paper-clip"></i><i class="icon-paper-plane"></i>
    <i class="icon-pencil"></i><i class="icon-people"></i><i class="icon-phone"></i><i class="icon-picture"></i><i class="icon-pie-chart"></i><i class="icon-pin"></i><i class="icon-plane"></i><i class="icon-playlist"></i><i class="icon-plus"></i><i class="icon-power"></i><i class="icon-present"></i><i class="icon-printer"></i><i class="icon-puzzle"></i><i class="icon-question"></i><i class="icon-refresh"></i><i class="icon-reload"></i><i class="icon-rocket"></i><i class="icon-screen-desktop"></i><i class="icon-screen-smartphone"></i><i class="icon-screen-tablet"></i><i class="icon-settings"></i><i class="icon-share"></i><i class="icon-share-alt"></i><i class="icon-shield"></i><i class="icon-shuffle"></i><i class="icon-size-actual"></i><i class="icon-size-fullscreen"></i>
    <i class="icon-social-dribbble"></i><i class="icon-social-dropbox"></i><i class="icon-social-facebook"></i><i class="icon-social-twitter"></i><i class="icon-social-youtube"></i><i class="icon-speech"></i><i class="icon-speedometer"></i><i class=""></i><i class="icon-star"></i><i class="icon-support"></i>
    <i class="icon-symble-female"></i><i class="icon-symbol-male"></i><i class="icon-tag"></i><i class="icon-target"></i><i class="icon-trash"></i><i class="icon-trophy"></i><i class="icon-umbrella"></i><i class="icon-user"></i><i class="icon-user-female"></i><i class="icon-user-follow"></i><i class="icon-user-following"></i>
    <i class="icon-user-unfollow"></i><i class="icon-vector"></i><i class="icon-volume-1"></i><i class="icon-volume-2"></i><i class="icon-volume-off"></i><i class="icon-wallet"></i><i class="icon-wrench"></i>
    <i class="icon-call-in"></i><i class="icon-call-out"></i><i class="icon-camera"></i><i class="icon-camrecorder"></i>
  </div>-->

  <div class="repair-cont">
    <div class="repair-chandlery clearfix">
      <div class="box1">
        <ul class="record-search clearfix">
          <li>
            <label>大楼编号</label>
            <input type="text" name="buildingId" class="search-ipt" [(ngModel)]="searchRepair.buildingId">
          </li>
          <li >
            <label >大楼名称</label>
            <input type="text" name="buildingName" class="search-ipt" [(ngModel)]="searchRepair.buildingName">
          </li>
          <li >
            <label >开始时间</label>
            <input type="date" class="search-ipt" name="decorateBtime" [(ngModel)]="beginTime" >
          </li>
          <li>
            <label>结束时间</label>
            <input type="date" class="search-ipt" name="decorateEtime" [(ngModel)]="endTime">
          </li>
        </ul>
      </div>
      <div class="box2">
        <ul class="contract-search clearfix">
          <li>
            <label>大楼编号</label>
            <input type="text" name="buildingId" class="search-ipt" [(ngModel)]="searchContract.buildingId">
          </li>
          <li >
            <label >大楼名称</label>
            <input type="text" name="buildingName" class="search-ipt" [(ngModel)]="searchContract.buildingName">
          </li>
          <li >
            <label >开始时间</label>
            <input type="date" name="contractBtime" class="search-ipt" [(ngModel)]="beginTime">
          </li>
          <li>
            <label>结束时间</label>
            <input type="date" name="contractEtime" class="search-ipt" [(ngModel)]="endTime">
          </li>
        </ul>
      </div>

      <div class="search-right">
        <a href="javascript:;" class="search-btn" (click)="repairSearch()"><i class="icon-magnifier"></i> 查 询</a>
        <a href="javascript:;" class="search-btn new-btn" (click)="repairNew()"><i class="icon-plus"></i> 新 增</a>
      </div>
    </div>
    <!--维修记录-->
    <div class="repair-container repair-record clearfix">
      <ul class="form-msg clearfix" *ngFor="let inner of record; let i=index">
        <li class="form-bar">
            <span class="form-title">大楼编号</span>
            <span class="word">{{inner.buildingId}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">大楼名称</span>
            <span class="word">{{inner.buildingName}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修单编号</span>
            <span class="word">{{inner.recordId}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修类别</span>
            <span class="word">{{inner.repairType}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修部门</span>
            <span class="word">{{inner.cmccDepartment}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修部门联系人</span>
            <span class="word">{{inner.cmccContacts}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修部门电话</span>
            <span class="word">{{inner.cmccPhone}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修商</span>
            <span class="word">{{inner.repairDepartment}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修商联系人</span>
            <span class="word">{{inner.repairContacts}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">维修商电话</span>
          <span class="word">{{inner.repairPhone}}</span>
      </li>
        <li class="form-bar">
            <span class="form-title">维修开始时间</span>
            <span class="word">{{inner.repairBtime}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修结束时间</span>
            <span class="word">{{inner.repairEtime}}</span>
        </li>
        <li class="form-bar">
            <span class="form-title">维修费用</span>
            <span class="word">{{inner.repairCost}}</span>
        </li>
        <li class="form-bar form-texarea">
            <span class="form-title">维修详细内容</span>
            <span class="word">{{inner.repairNote}}</span>
        </li>
        <li class="form-btn" (click)="editRecord(i)">编&nbsp;&nbsp;辑</li>
        <li class="form-btn form-btn2" (click)="delRecord(i)">删&nbsp;&nbsp;除</li>
      </ul>
    </div>
    <!--维修合同-->
    <div class="repair-container repair-contract clearfix">
      <ul class="form-msg clearfix" *ngFor="let ctct of contract; let i=index">
        <li class="form-bar">
          <span class="form-title">大楼编号</span>
          <span class="word">{{ctct.buildingId}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">大楼名称</span>
          <span class="word">{{ctct.buildingName}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">合同编号</span>
          <span class="word">{{ctct.contractId}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">甲方</span>
          <span class="word">{{ctct.cmccName}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">甲方联系人</span>
          <span class="word">{{ctct.cmccContacts}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">甲方联系电话</span>
          <span class="word">{{ctct.cmccPhone}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">乙方</span>
          <span class="word">{{ctct.name}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">乙方联系人</span>
          <span class="word">{{ctct.contacts}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">乙方联系电话</span>
          <span class="word">{{ctct.phone}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">合同状态</span>
          <span class="word">{{ctct.contractStatus}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">合同开始时间</span>
          <span class="word">{{ctct.contractBtime}}</span>
        </li>
        <li class="form-bar">
          <span class="form-title">合同结束时间</span>
          <span class="word">{{ctct.contractEtime}}</span>
        </li>
        <li class="form-bar form-texarea">
          <span class="form-title">服务合同</span>
          <a style="color:#686868; margin-left:10px;" href="javascript:;" *ngFor="let abc of ctct.fileName; let j=index">{{abc}}</a>
        </li>
        <li class="form-btn" (click)="editContract(i)">编&nbsp;&nbsp;辑</li>
        <li class="form-btn form-btn2" (click)="delContract(i)">删&nbsp;&nbsp;除</li>
      </ul>
    </div>
    <div class="turn">
      <ul>
        <li *ngFor="let i of pages"
            [hidden] = "pageLimit(i)"
            [ngClass]="{'active':i === pageNo}"
            (click)="goPage(i);">
          {{i}}
        </li>
      </ul>
    </div>
  </div>
  <!--<div id="gaodemap-container" class="gaodemap-container" tabindex="0" style="widht:500px;height:400px;"></div>-->
</div>
<!--新增编辑弹窗-->
<div class="mask mask-repair">
  <div class="new-repair-record">
    <form method="post" name="topForm" class="new-repair-form">
      <div class="form-left">
        <div class="form-control">
          <span class="form-label">大楼编号</span>
          <div class="form-inp">
            <input type="text" id="Id" name="Id" [(ngModel)]="repairname.buildingId" (blur)="verifyId()" required minlength="4" maxlength="4" placeholder="请输入四位数字">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修单编号</span>
          <div class="form-inp">
            <input type="text" id="recordId" name="recordId" [(ngModel)]="repairname.recordId" (blur)="verifyRecordId()" required minlength="4" maxlength="10" placeholder="请输入字母和四位数字">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修类别</span>
          <div class="form-inp">
            <select id="repairType" name="repairType" [(ngModel)]="repairname.repairType" (blur)="verifyRepairType()">
              <option value="">请选择</option>
              <option value="A大楼整体维修">A大楼整体维修</option>
              <option value="B大型设备维修">B大型设备维修</option>
              <option value="C零星设备维修">C零星设备维修</option>
              <option value="D大楼清洗">D大楼清洗</option>
            </select>
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修部门</span>
          <div class="form-inp">
            <input id="cmccDepartment" name="cmccDepartment" [(ngModel)]="repairname.cmccDepartment" (blur)="verifyCmccDepartment()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修部门联系人</span>
          <div class="form-inp">
            <input id="cmccContacts" name="cmccContacts" [(ngModel)]="repairname.cmccContacts" (blur)="verifyCmccContacts()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修部门电话</span>
          <div class="form-inp">
            <input id="cmccPhone" name="cmccPhone" [(ngModel)]="repairname.cmccPhone" (blur)="verifyCmccPhone()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修商</span>
          <div class="form-inp">
            <input id="repairDepartment" name="repairDepartment" [(ngModel)]="repairname.repairDepartment" (blur)="verifyRepairDepartment()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修商联系人</span>
          <div class="form-inp">
            <input id="repairContacts" name="repairContacts" [(ngModel)]="repairname.repairContacts" (blur)="verifyRepairContacts()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修商电话</span>
          <div class="form-inp">
            <input id="repairPhone" name="repairPhone" [(ngModel)]="repairname.repairPhone" (blur)="verifyRepairPhone()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修开始时间</span>
          <div class="form-inp">
            <input id="repairBtime" name="repairBtime" [(ngModel)]="repairname.repairBtime" (blur)="verifyRepairBtime()" type="date">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修结束时间</span>
          <div class="form-inp">
            <input id="repairEtime" name="repairEtime" [(ngModel)]="repairname.repairEtime" (blur)="verifyRepairEtime()" type="date">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">维修费用</span>
          <div class="form-inp">
            <input id="repairCost" name="repairCost" [(ngModel)]="repairname.repairCost" onkeypress="return event.keyCode>=48&&event.keyCode<=57" (blur)="verifyRepairCost()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
      </div>

      <div class="form-control form-right" style="margin-top:42px">
        <span class="form-label">维修详细内容</span>
        <div class="form-inp">
          <textarea id="repairNote" name="repairNote" [(ngModel)]="repairname.repairNote" (blur)="verifyRepairNote()"></textarea>
          <span class="errorMessage"></span>
        </div>
      </div>
      <button value="确定" class="btn btn-determine" (click)="recordSubmit()">确定</button><button class="btn btn-cancel" value="取消" (click)="recordCancel()">取消</button>
    </form>
    <div class="close" (click)="recordCancel()">×</div>
  </div>
</div>
<!--新增合同弹窗-->
<div class="mask mask-contract">
  <div class="new-repair-record new-repair-contract">
    <form method="post" name="topForm" class="new-repair-form">
      <div class="form-left" style="margin-top:50px;">
        <div class="form-control">
          <span class="form-label">大楼编号</span>
          <div class="form-inp">
            <input type="text" id="contractId" name="contractId" [(ngModel)]="contractName.buildingId" (blur)="verifyContractId()" required minlength="4" maxlength="4" placeholder="请输入四位数字">
            <span class="errorMessage"></span>
          </div>
        </div>

        <div class="form-control">
          <span class="form-label">合同编号</span>
          <div class="form-inp">
            <input type="text" id="contractNum" name="contractNum" [(ngModel)]="contractName.contractId" (blur)="verifyContractName()" required placeholder="请输入大楼名称">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">甲方</span>
          <div class="form-inp">
            <input type="text" id="cmccName" name="cmccName" [(ngModel)]="contractName.cmccName" (blur)="verifyCmccName()" required placeholder="请输入各级移动公司全称">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">甲方联系人</span>
          <div class="form-inp">
            <input type="text" id="contractcmccContacts" name="cmccContacts" [(ngModel)]="contractName.cmccContacts" (blur)="verifycontractcmccContacts()" required placeholder="">
            <!--<select name="repairType" [(ngModel)]="repairname.cmccContacts" (blur)="verifyRepairType()">
              <option value="">请选择</option>
              <option value="A大楼整体维修">A大楼整体维修</option>
              <option value="B大型设备维修">B大型设备维修</option>
              <option value="C零星设备维修">C零星设备维修</option>
              <option value="D大楼清洗">D大楼清洗</option>
            </select>-->
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">甲方联系人电话</span>
          <div class="form-inp">
            <input id="contractcmccPhone" name="cmccPhone" [(ngModel)]="contractName.cmccPhone" (blur)="verifycontractcmccPhone()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">乙方</span>
          <div class="form-inp">
            <input id="contractname2" name="contractname2" [(ngModel)]="contractName.name" (blur)="verifycontractname2()" type="text" placeholder="请输入维修单位全称">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">乙方联系人</span>
          <div class="form-inp">
            <input id="contacts" name="contacts" [(ngModel)]="contractName.contacts" (blur)="verifycontacts()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">乙方联系电话</span>
          <div class="form-inp">
            <input id="phone" name="phone" [(ngModel)]="contractName.phone" (blur)="verifyphone()" type="text">
            <span class="errorMessage"></span>
          </div>
        </div>
      </div>
      <div class="form-right-contract" style="margin-top:55px;">
        <div class="form-control">
          <span class="form-label">合同开始时间</span>
          <div class="form-inp">
            <input id="contractBtime" name="contractBtime" [(ngModel)]="contractName.contractBtime" (blur)="verifycontractBtime()" type="date">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">合同结束时间</span>
          <div class="form-inp">
            <input id="contractEtime" name="contractEtime" [(ngModel)]="contractName.contractEtime" (blur)="verifycontractEtime()" type="date">
            <span class="errorMessage"></span>
          </div>
        </div>
        <div class="form-control">
          <span class="form-label">服务合同</span>
          <ul style="height:100px; min-width:160px; line-height: 20px; overflow-y: auto; background: #f6f6f6; float: left; color:#666; border-radius:4px;">
            <li style="max-width: 160px;" *ngFor="let abc of contractName.fileName; let k=index">{{abc}}<a style="margin-left:6px; color:#ff0000" href="javascript:;" (click)="delFile(k)">×</a> </li>
          </ul>
          <div class="form-inp" style="margin-left:130px; margin-top:10px;">
            <a href="javascript:;" style="color:#666; border-radius:4px; padding:5px 10px; background: #f6f6f6;" onclick="$('#prese').trigger('click')">上 传</a>
            <input type="file" class="dropify" #prese id="prese" style="visibility: hidden;"
                   (change)="prese_upload(prese.files)">
            <span class="errorMessage"></span>
          </div>
        </div>
      </div>
      <button value="确定" class="btn btn-determine" (click)="contractSubmit()">确定</button><button class="btn btn-cancel" value="取消" (click)="contractCancel()">取消</button>
    </form>
    <div class="close" (click)="contractCancel()">×</div>
  </div>
</div>

