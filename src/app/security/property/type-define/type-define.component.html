<div class="limit-height">
  <div class="box-plus">
    <h3>类型定义</h3>
    <div class="box-search">
      <input type="text" [(ngModel)]="search">
      <a (click)="getList(1)"><i class="icon-magnifier"></i>搜索</a>
    </div>
    <a class="btn-danger"
       *ngIf="rule&&rule.isInstall"
       (click)="addNew();">
      <i class="icon-plus"></i>
      新增
    </a>
  </div>
  <div class="view min-view">
    <ul class="card-list">
      <li class="card-area" *ngFor="let dossier of dossiers">
        <div class="card-option">
          <a class="edt"
             *ngIf="rule&&rule.isUpdate"
             (click)="editInit(dossier)">
            <i class="icon-pencil"></i>编辑
          </a>
          <a class="del"
             *ngIf="rule&&rule.isDelete"
             (click)="delete(dossier.id)">
            <i class="icon-trash" ></i>删除
          </a>
        </div>
        <h4><i class="icon-anchor"></i>{{dossier.name}}<span>({{dossier.num}})</span></h4>
        <p [ngStyle]="{'width': dossier.explain.length*3 +'px'}">{{dossier.explain}}</p>
      </li>
     <!-- <li class="card-area">
        <div class="card-option">
          <a class="edt"><i class="icon-pencil"></i>编辑</a>
        </div>
        <h4><i class="icon-anchor"></i>测试的标题<span>（8888）</span></h4>
        <p>我是测试的例子,无对应类别</p>
      </li>-->
    </ul>
  </div>

  <div class="turn-box">
    <!--翻页-->
    <app-turn-bar
      [pageNo]="pageNo"
      [pageSize]="pageSize"
      [total]="total"
      (turnEvent)="getList($event)">
    </app-turn-bar>
      <div style="clear: both"></div>
  </div>
</div>


<!--新建弹框-->
<div class="mask" style="display: none;">
  <div  class="modal-content">
    <div  class="modal-header">
      <h4 class="modal-title"><i class="icon-home"></i>类型</h4>
      <button class="modal-close" type="button" (click)="closeNewView()">×</button>
    </div>
    <form  class="form-building form-material ng-untouched ng-pristine ng-valid" novalidate="">
      <div  class="modal-body clearfix">
        <div   class="modal-right">
          <div  class="form-group">
            <label  class="control-label"><span>档案类型编号</span>
              <input class="form-control" id="newNum"
                     name="newNum" placeholder="" type="text"
                     [(ngModel)]="newDossier.num"
                     (blur)="verifyEmpty(newDossier.num,'newNum');">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label"><span>档案类型名称</span>
              <input class="form-control" id="newName"
                     name="newName" placeholder="" type="text"
                     [(ngModel)]="newDossier.name"
                     (blur)="verifyEmpty(newDossier.name,'newName');">
            </label>
            <div class="error"></div>
          </div>
          <div  class="form-group">
            <label  class="control-label">
              <span style="vertical-align: top;">档案类型说明</span>
              <textarea class="form-control" id="newExplain"
                        name="newExplain"
                        style="height: 200px"
                        placeholder=""
                        [(ngModel)]="newDossier.explain"
                        (blur)="verifyEmpty(newDossier.explain,'newExplain');">
              </textarea>
            </label>
            <div class="error"></div>
          </div>
        </div>
      </div>
      <div  class="modal-footer">
        <button  class="btn btn-info" type="submit"
                 (click)="submit()">保 存</button>
        <button  class="btn btn-danger" type="button"
                 (click)="closeNewView()">取 消</button>
      </div>
    </form>
  </div>
</div>
